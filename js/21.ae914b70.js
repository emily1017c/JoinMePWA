(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{6947:function(t,s,a){"use strict";var i=a("da0e"),e=a.n(i);e.a},d5a4:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("q-layout",{attrs:{view:"hHh lpr fFf"}},[a("q-header",[a("q-toolbar",{staticClass:"toolbar bg-secondary"},[a("router-link",{attrs:{to:"/week"}},[a("q-btn",{attrs:{flat:"",label:"上一步",color:"white"}})],1),a("q-toolbar-title",{staticClass:"text-center"},[t._v("週曆")]),a("q-btn",{staticClass:"q-mr-xs",attrs:{flat:""},on:{click:function(s){return t.print("capture")}}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("title",[t._v("ionicons-v5-f")]),a("path",{staticStyle:{fill:"none",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{d:"M336,192h40a40,40,0,0,1,40,40V424a40,40,0,0,1-40,40H136a40,40,0,0,1-40-40V232a40,40,0,0,1,40-40h40"}}),a("polyline",{staticStyle:{fill:"none",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{points:"336 128 256 48 176 128"}}),a("line",{staticStyle:{fill:"none",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{x1:"256",y1:"321",x2:"256",y2:"48"}})]),t._v("\n        分享\n      ")])],1)],1),a("q-page-container",[[a("div",[a("q-dialog",{attrs:{medium:"","full-width":""},model:{value:t.sharePopup,callback:function(s){t.sharePopup=s},expression:"sharePopup"}},[a("q-card",{staticClass:"column full-height",staticStyle:{width:"300px"}},[a("q-card-section",{staticClass:"row items-center"},[a("q-btn",{attrs:{flat:"",disable:""}}),a("q-space"),a("div",{staticClass:"text-h6"},[t._v("分享")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",dense:""}})],1),a("q-card-section",{staticClass:"col q-pt-none"},[a("img",{staticClass:"final",attrs:{src:t.frameCapture}}),a("div",{staticClass:"longPress"},[t._v("長按圖片分享")])]),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"center"}},[a("a",{attrs:{href:t.frameCapture,download:"WeekShare"}},[a("q-btn",{attrs:{flat:"",label:"下載圖片"}})],1)])],1)],1),a("delay",{attrs:{wait:4e3}},[a("div",{attrs:{slot:"loading"},slot:"loading"},[t._v("loading")]),a("q-card",{ref:"capture",staticClass:"screenshot"},[t.isLoaded?a("img",{staticClass:"output",attrs:{src:t.url}}):t._e(),t.isLoaded?a("img",{staticClass:"frame",attrs:{src:t.frame}}):t._e()]),a("q-footer",[a("q-scroll-area",{staticClass:"scrollview",staticStyle:{height:"140px",width:"100%"},attrs:{horizontal:""}},[a("div",{staticClass:"space-between row no-wrap"},[a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isMovie}},[t._v("MOVIE")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.Movie},on:{click:function(s){return t.chooseFrame("movie")}}}):t._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isFood}},[t._v("FOOD")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.Food},on:{click:function(s){return t.chooseFrame("food")}}}):t._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isMeeting}},[t._v("MEETING")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.Meeting},on:{click:function(s){return t.chooseFrame("meeting")}}}):t._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isBar}},[t._v("BAR")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.Bar},on:{click:function(s){return t.chooseFrame("bar")}}}):t._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isAftea}},[t._v("AFTERNOON TEA")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.Aftea},on:{click:function(s){return t.chooseFrame("afternoonTea")}}}):t._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isDate}},[t._v("DATE")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.date},on:{click:function(s){return t.chooseFrame("date")}}}):t._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:t.isPlay}},[t._v("PLAY")]),t.isLoaded?a("img",{staticClass:"image",attrs:{src:t.Play},on:{click:function(s){return t.chooseFrame("play")}}}):t._e()])])])],1)],1)],1)]],2)],1)},e=[],o=a("2b0e"),r=a("945e"),n=a("fc1b"),c=a("c0e9"),l=a.n(c),d=a("139f"),h=a.n(d),f=a("d364"),u=a.n(f),m=a("90ec"),v=a.n(m),g=a("df59"),p=a.n(g),C=a("25a5"),k=a.n(C),w=a("cd5a"),F=a.n(w),b=a("6d73"),y=a.n(b);let M;o["default"].use(r["a"]);var _={data(){return{name:0,url:M,frame:F.a,isLoaded:!1,Aftea:h.a,Bar:u.a,date:v.a,Food:p.a,Meeting:k.a,Movie:F.a,Play:y.a,isAftea:!1,isBar:!1,isDate:!1,isFood:!1,isMeeting:!1,isMovie:!0,isPlay:!1,sharePopup:!1,frameCapture:null}},created(){this.getData()},methods:{print:function(t){var s=this,a={useCORS:!0,logging:!0,backgroundColor:"rgba(0,0,0,.0)",scale:window.devicePixelRatio};const i=this.$refs[t].$el;l()(i,a).then((function(t){s.frameCapture=t.toDataURL();var a=t.toDataURL();n["a"].collection("screenshot").doc("weekFrame").set({url:a}).then((function(){console.log("Document successfully written!")})).catch((function(t){console.error("Error writing document: ",t)}))})),this.sharePopup=!0},chooseFrame:function(t){"movie"===t?(this.frame=F.a,this.isMovie=!0,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"afternoonTea"===t?(this.frame=h.a,this.isMovie=!1,this.isAftea=!0,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"bar"===t?(this.frame=u.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!0,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"date"===t?(this.frame=v.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!0,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"food"===t?(this.frame=p.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!0,this.isMeeting=!1,this.isPlay=!1):"meeting"===t?(this.frame=k.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!0,this.isPlay=!1):"play"===t&&(this.frame=y.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!0)},getData(){var t=n["a"].collection("screenshot").doc("week");t.get().then(function(t){t.exists?(console.log("Document data:",t.data().url),M=t.data().url,this.url=M,this.isLoaded=!0):console.log("No such document!")}.bind(this)).catch((function(t){console.log("Error getting document:",t)}))}}},q=_,P=(a("6947"),a("2877")),A=a("4d5a"),D=a("e359"),x=a("65c6"),L=a("9c40"),B=a("6ac5"),Q=a("09e3"),S=a("24e8"),E=a("f09f"),T=a("a370"),O=a("2c91"),R=a("4b7e"),N=a("7ff0"),j=a("4983"),H=a("7f67"),V=a("eebe"),$=a.n(V),I=Object(P["a"])(q,i,e,!1,null,null,null);s["default"]=I.exports;$()(I,"components",{QLayout:A["a"],QHeader:D["a"],QToolbar:x["a"],QBtn:L["a"],QToolbarTitle:B["a"],QPageContainer:Q["a"],QDialog:S["a"],QCard:E["a"],QCardSection:T["a"],QSpace:O["a"],QCardActions:R["a"],QFooter:N["a"],QScrollArea:j["a"]}),$()(I,"directives",{ClosePopup:H["a"]})},da0e:function(t,s,a){}}]);