(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"60ea":function(s,t,a){"use strict";var i=a("92b0"),e=a.n(i);e.a},6737:function(s,t,a){"use strict";a.r(t);var i=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("q-layout",{attrs:{view:"hHh lpr fFf"}},[a("q-header",[a("q-toolbar",{staticClass:"toolbar bg-secondary"},[a("router-link",{attrs:{to:"/class"}},[a("q-btn",{attrs:{flat:"",label:"上一步",color:"white"}})],1),a("q-toolbar-title",{staticClass:"text-center"},[s._v("課表")]),a("q-btn",{staticClass:"q-mr-xs",attrs:{flat:""},on:{click:function(t){return s.print("capture")}}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("title",[s._v("ionicons-v5-f")]),a("path",{staticStyle:{fill:"none",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{d:"M336,192h40a40,40,0,0,1,40,40V424a40,40,0,0,1-40,40H136a40,40,0,0,1-40-40V232a40,40,0,0,1,40-40h40"}}),a("polyline",{staticStyle:{fill:"none",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{points:"336 128 256 48 176 128"}}),a("line",{staticStyle:{fill:"none",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{x1:"256",y1:"321",x2:"256",y2:"48"}})]),s._v("\n        分享\n      ")])],1)],1),a("q-page-container",[[a("div",[a("q-dialog",{attrs:{medium:"","full-width":""},model:{value:s.sharePopup,callback:function(t){s.sharePopup=t},expression:"sharePopup"}},[a("q-card",{staticClass:"column full-height",staticStyle:{width:"300px"}},[a("q-card-section",{staticClass:"row items-center"},[a("q-btn",{attrs:{flat:"",disable:""}}),a("q-space"),a("div",{staticClass:"text-center text-h6"},[s._v("分享")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",dense:""}})],1),a("q-card-section",{staticClass:"col q-pt-none"},[a("img",{staticClass:"final",attrs:{src:s.frameCapture}}),a("div",{staticClass:"longPress"},[s._v("長按圖片分享")])]),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"center"}},[a("a",{attrs:{href:s.frameCapture,download:"ClassShare"}},[a("q-btn",{attrs:{flat:"",label:"下載圖片"}})],1)])],1)],1),a("delay",{attrs:{wait:4e3}},[a("div",{attrs:{slot:"loading"},slot:"loading"},[s._v("loading")]),a("q-card",{ref:"capture",staticClass:"screenshot"},[s.isLoaded?a("img",{staticClass:"output",attrs:{src:s.url}}):s._e(),s.isLoaded?a("img",{staticClass:"frame",attrs:{src:s.frame}}):s._e()]),a("q-footer",[a("q-scroll-area",{staticClass:"scrollview",staticStyle:{height:"140px",width:"100%"},attrs:{horizontal:""}},[a("div",{staticClass:"space-between row no-wrap"},[a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isMovie}},[s._v("MOVIE")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.Movie},on:{click:function(t){return s.chooseFrame("movie")}}}):s._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isFood}},[s._v("FOOD")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.Food},on:{click:function(t){return s.chooseFrame("food")}}}):s._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isMeeting}},[s._v("MEETING")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.Meeting},on:{click:function(t){return s.chooseFrame("meeting")}}}):s._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isBar}},[s._v("BAR")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.Bar},on:{click:function(t){return s.chooseFrame("bar")}}}):s._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isAftea}},[s._v("AFTERNOON TEA")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.Aftea},on:{click:function(t){return s.chooseFrame("afternoonTea")}}}):s._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isDate}},[s._v("DATE")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.date},on:{click:function(t){return s.chooseFrame("date")}}}):s._e()]),a("div",{staticClass:"frames"},[a("div",{staticClass:"mask0",class:{mask1:s.isPlay}},[s._v("PLAY")]),s.isLoaded?a("img",{staticClass:"image",attrs:{src:s.Play},on:{click:function(t){return s.chooseFrame("play")}}}):s._e()])])])],1)],1)],1)]],2)],1)},e=[],o=a("2b0e"),r=a("945e"),c=a("fc1b"),n=a("c0e9"),l=a.n(n),d=a("139f"),h=a.n(d),f=a("d364"),u=a.n(f),m=a("90ec"),v=a.n(m),g=a("df59"),p=a.n(g),C=a("25a5"),k=a.n(C),w=a("cd5a"),F=a.n(w),b=a("6d73"),y=a.n(b);let M;o["default"].use(r["a"]);var _={data(){return{name:0,url:M,frame:F.a,isLoaded:!1,Aftea:h.a,Bar:u.a,date:v.a,Food:p.a,Meeting:k.a,Movie:F.a,Play:y.a,isAftea:!1,isBar:!1,isDate:!1,isFood:!1,isMeeting:!1,isMovie:!0,isPlay:!1,sharePopup:!1,frameCapture:null}},created(){this.getData()},methods:{print:function(s){var t=this,a={useCORS:!0,logging:!0,backgroundColor:"rgba(0,0,0,.0)",scale:window.devicePixelRatio};const i=this.$refs[s].$el;l()(i,a).then((function(s){t.frameCapture=s.toDataURL();var a=s.toDataURL();c["a"].collection("screenshot").doc("classFrame").set({url:a}).then((function(){console.log("Document successfully written!")})).catch((function(s){console.error("Error writing document: ",s)}))})),this.sharePopup=!0},chooseFrame:function(s){"movie"===s?(this.frame=F.a,this.isMovie=!0,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"afternoonTea"===s?(this.frame=h.a,this.isMovie=!1,this.isAftea=!0,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"bar"===s?(this.frame=u.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!0,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"date"===s?(this.frame=v.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!0,this.isFood=!1,this.isMeeting=!1,this.isPlay=!1):"food"===s?(this.frame=p.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!0,this.isMeeting=!1,this.isPlay=!1):"meeting"===s?(this.frame=k.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!0,this.isPlay=!1):"play"===s&&(this.frame=y.a,this.isMovie=!1,this.isAftea=!1,this.isBar=!1,this.isDate=!1,this.isFood=!1,this.isMeeting=!1,this.isPlay=!0)},getData(){var s=c["a"].collection("screenshot").doc("class");s.get().then(function(s){s.exists?(console.log("Document data:",s.data().url),M=s.data().url,this.url=M,this.isLoaded=!0):console.log("No such document!")}.bind(this)).catch((function(s){console.log("Error getting document:",s)}))}}},q=_,P=(a("60ea"),a("2877")),x=a("4d5a"),A=a("e359"),D=a("65c6"),L=a("9c40"),B=a("6ac5"),Q=a("09e3"),S=a("24e8"),E=a("f09f"),T=a("a370"),O=a("2c91"),R=a("4b7e"),N=a("7ff0"),j=a("4983"),H=a("7f67"),V=a("eebe"),$=a.n(V),I=Object(P["a"])(q,i,e,!1,null,null,null);t["default"]=I.exports;$()(I,"components",{QLayout:x["a"],QHeader:A["a"],QToolbar:D["a"],QBtn:L["a"],QToolbarTitle:B["a"],QPageContainer:Q["a"],QDialog:S["a"],QCard:E["a"],QCardSection:T["a"],QSpace:O["a"],QCardActions:R["a"],QFooter:N["a"],QScrollArea:j["a"]}),$()(I,"directives",{ClosePopup:H["a"]})},"92b0":function(s,t,a){}}]);